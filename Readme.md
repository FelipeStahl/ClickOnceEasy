# ClickOnceEasy #

This project simplify the ClickOnce deployment of all applications type.

Just **Configure**, **Build** your app in the *Bin folder* and **Run the script**! 

That's it! your app and all his updates are now available to your customers!

## Files #####
1) deploy.ps1: the deployement script (contains all the parameters and generation's commands)
2) mage.exe: ClickOnce packager
3) readme.md

## Variables (deploy.ps1) ##
1) $Version: version of the app (need to be incremented so the user can update his version)
2) $AppName: app name (the one user will see)
3) $Publisher: publisher name
4) $ServerUrl: the url where the app will be published
5) $BinDirectory: Folder path
6) $OutputDirectory: Folder path
7) $ToolsDirectory: Folder path

## Folders ##
1) Bin: contains the binary generated by Unity
2) Output: Unity's Bin after compression with the Launcher.exe, the manifest and the setup
3) Tools: The launcher.exe and his source code. This exe decompress the Unity application (at first execution) then run it

## Procedure ##
1) Put Unity's build files in the Bin folder (or configure the Unity's Bin folder path in deploy.ps1)
2) In deploy.ps1: configure the $AppName, $Publisher and $ServerUrl
3) run powershell script: deploy.ps1 
4) then run the application with AppName.application (from the Output folder or from the $ServerUrl

## What it does (deploy.ps1) ##
1) The script take the Unity's build, compress and copy it in the Output folder
	Add the Launcher to the Output folder and rename it to $AppName
2) Generate the manifest
	TODO: sign the manifest with Authenticode certificate
3) Generate the installer
	TODO: sign the installer with Authenticode certificate
4) Send all the files from Output folder to the $ServerUrl
	(Unity project zip + application (clickonce setup) + renamed launcher + manifest)
	
Warning: do not call the Unity project the same as $AppName in deploy script (or the Launcher and the Unity's project exes will have the same name)
